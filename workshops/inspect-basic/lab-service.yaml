
# --- Ingress Configuration ---
ingress:
  enabled: true
  ingressClassName: "cilium"
  hosts:
    - "inspect-basic.local"


singleuser:
  # 1. Point to your new image that contains code-server
  image:
    name: "workshop-inspect-basic"
    tag: "latest"
  defaultUrl: "/"
  cmd: 
    - "code-server"
    - "--bind-addr=0.0.0.0:{port}"
    - "--auth=none"
    - "--base-path={base_url}"
    - "/app" 
  extraEnv:
    S3_ENDPOINT_URL: "http://rook-ceph-rgw-aivstore.rook-ceph.svc.cluster.local" #
    AWS_ACCESS_KEY_ID:
      valueFrom:
        secretKeyRef:
          name: jhub-s3-creds
          key: accessKey
    AWS_SECRET_ACCESS_KEY:
      valueFrom:
        secretKeyRef:
          name: jhub-s3-creds
          key: secretKey
    PYTHONUNBUFFERED: "1"
    GRPC_VERBOSITY: "INFO"
    OPENAI_API_KEY: "hidden"
    OPENAI_BASE_URL: "ai-proxy/openai/"
    GOOGLE_API_KEY: "hidden"
    GOOGLE_BASE_URL: "ai-proxy/gemini/"
    ANTHROPIC_API_KEY: "hidden"
    ANTHROPIC_BASE_URL: "ai-proxy/anthropic/"
    

# --- Culling for Idle Pods (No Changes) ---
cull:
  enabled: true
  timeout: 3600 # 1 hour
  every: 300